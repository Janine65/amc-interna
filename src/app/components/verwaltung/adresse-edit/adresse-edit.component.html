<p-scrollPanel [style]="{ width: '100%', height: '80%' }">
  <form #f="ngForm" autocomplete="off" (ngSubmit)="save(f)">
    <div class="card">
      <div class="formgrid grid">
        <div class="field col-12 md:col-6">
          <label for="geschlecht">Geschlecht</label>
          <p-selectButton
            [options]="lstGeschlecht"
            [(ngModel)]="adresse.geschlecht"
            optionLabel="name"
            optionValue="code"
            name="geschlecht"
            id="geschlecht"
            #geschlect="ngModel"
            required
          ></p-selectButton>
        </div>
        <div class="field col-12 md:col-6">
          <label for="mnr">MNR</label>
          <input
            id="mnr"
            [disabled]="true"
            pInputText
            class="text-base text-color surface-overlay p-2 appearance-none outline-none w-full"
            [(ngModel)]="adresse.mnr"
            name="mnr"
          />
        </div>
        <div class="field col-12 md:col-6">
          <label for="vorname">Vorname</label>
          <input
            type="text"
            id="vorname"
            pInputText
            name="vorname"
            #vorname="ngModel"
            minlength="3"
            required
            class="text-base text-color surface-overlay p-2 appearance-none outline-none w-full"
            [(ngModel)]="adresse.vorname"
          />
        </div>
        <div class="field col-12 md:col-6">
          <label for="name">Nachname</label>
          <input
            type="text"
            id="name"
            pInputText
            class="text-base text-color surface-overlay p-2 appearance-none outline-none w-full"
            name="name"
            #name="ngModel"
            minlength="3"
            required
            [(ngModel)]="adresse.name"
          />
        </div>
        <div class="field col-12">
          <label for="strasse">Strasse</label>
          <input
            type="text"
            id="adresse"
            pInputText
            name="strasse"
            #strasse="ngModel"
            minlength="3"
            required
            class="text-base text-color surface-overlay p-2 appearance-none outline-none w-full"
            [(ngModel)]="adresse.adresse"
          />
        </div>
        <div class="field col-12 md:col-4">
          <label for="plz" class="p-2">PLZ</label>
          <input
            type="number"
            id="plz"
            pInputText
            class="text-base text-color surface-overlay p-2 appearance-none outline-none w-full"
            name="plz"
            #plz="ngModel"
            minlength="4"
            required
            [(ngModel)]="adresse.plz"
          />
        </div>
        <div class="field col-12 md:col-8">
          <label for="ort" class="p-2">Ort</label>
          <input
            type="text"
            id="ort"
            pInputText
            class="text-base text-color surface-overlay p-2 appearance-none outline-none w-full"
            name="ort"
            #ort="ngModel"
            minlength="3"
            required
            [(ngModel)]="adresse.ort"
          />
        </div>
        <div class="field col-12 md:col-3">
          <label for="email" class="p-2">Email</label>
          <button
            *ngIf="adresse.email"
            pButton
            type="button"
            icon="pi pi-send"
            class="p-button-secondary p-button-outlined"
            styleClass="p-button-sm p-button-icon"
            (click)="sendEmail()"
            [disabled]="!adresse.email"
          ></button>
          <input
            type="text"
            name="email"
            id="email"
            pInputText
            minlength="5"
            class="text-base text-color surface-overlay p-2 appearance-none outline-none w-full"
            [(ngModel)]="adresse.email"
            ngModel
            #email="ngModel"
            name="email"
            pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$"
          />
        </div>
        <div class="field col-12 md:col-3">
          <label for="phone">Telefon</label>
          <input
            type="text"
            id="phone"
            pInputText
            name="phone"
            class="text-base text-color surface-overlay p-2 m-3 appearance-none outline-none w-full"
            [(ngModel)]="adresse.telefon_p"
          />
        </div>
        <div class="field col-12 md:col-3">
          <label for="mobil">Mobil</label>
          <input
            type="text"
            id="mobil"
            pInputText
            name="mobil"
            class="text-base text-color surface-overlay p-2 m-3 appearance-none outline-none w-full"
            [(ngModel)]="adresse.mobile"
          />
        </div>
        <div class="formgroup-inline field col-12">
          <div class="field-checkbox">
            <input
              type="checkbox"
              id="sam"
              [(ngModel)]="adresse.sam_mitglied"
              name="sam"
            />
            <label for="sam">SAM-Mitglied</label>
          </div>
          <div class="field" *ngIf="adresse.sam_mitglied">
            <input
              type="text"
              pInputText
              [(ngModel)]="adresse.mnr_sam"
              name="samnr"
            />
          </div>
          <div class="field-checkbox">
            <input
              type="checkbox"
              id="allianz"
              [(ngModel)]="adresse.allianz"
              name="allianz"
            />
            <label for="allianz">Allianz</label>
          </div>
          <div class="field-checkbox">
            <input
              type="checkbox"
              id="vorstand"
              [(ngModel)]="adresse.vorstand"
              name="vorstand"
            />
            <label for="vorstand">Vorstand</label>
          </div>
          <div class="field-checkbox">
            <input
              type="checkbox"
              id="revisor"
              [(ngModel)]="adresse.revisor"
              name="revisor"
            />
            <label for="revisor">Revisor</label>
          </div>
        </div>
        <div class="field col-12 md:col-6">
          <label for="eintritt">Eintritt</label>
          <p-datepicker
            dateFormat="dd.mm.yy"
            id="eintritt"
            name="eintritt"
            class="surface-overlay p-2 appearance-none outline-none w-full"
            [(ngModel)]="adresse.eintritt_date"
          ></p-datepicker>
        </div>
        <div class="field col-12 md:col-6">
          <label for="austritt">Austritt</label>
          <p-datepicker
            dateFormat="dd.mm.yy"
            id="austritt"
            name="austritt"
            class="surface-overlay p-2 appearance-none outline-none w-full"
            [(ngModel)]="adresse.austritt_date"
          ></p-datepicker>
        </div>
        <div class="field col-12">
          <label for="notes">Notizen</label>
          <textarea
            [(ngModel)]="adresse.notes"
            id="notes"
            [rows]="5"
            name="notes"
            class="text-base text-color surface-overlay p-2 appearance-none outline-none w-full"
          ></textarea>
        </div>
        <div class="field col-12">
          <label for="geworben">Geworben von</label>
          <p-select
            id="geworben"
            [options]="dlstFKAdressen"
            optionLabel="value"
            optionValue="id"
            [filter]="true"
            filterBy="value"
            [autoDisplayFirst]="false"
            [showClear]="true"
            name="geworben"
            class="text-base text-color surface-overlay p-2 appearance-none outline-none"
            [style]="{ width: '80%' }"
            [(ngModel)]="adresse.adressenid"
          ></p-select>
        </div>
      </div>
    </div>
  </form>
</p-scrollPanel>
<p-toolbar>
  <button
    pButton
    type="button"
    label="Zurück"
    icon="pi pi-back"
    class="p-button-secondary p-button-outlined"
    (click)="back()"
  ></button>
  <button
    *ngIf="adresse.sam_mitglied"
    pButton
    type="button"
    label="SAM Adressänderung"
    icon="pi pi-send"
    class="p-button-secondary p-button-outlined"
    (click)="emailSAM(f)"
  ></button>
  <button
    *ngIf="
      adresse.sam_mitglied && adresse.austritt_date?.getFullYear() !== 3000
    "
    pButton
    type="button"
    label="SAM Austritt"
    icon="pi pi-send"
    class="p-button-secondary p-button-outlined"
    (click)="emailSAMAustritt(f)"
  ></button>
  <button
    *ngIf="adresse.austritt_date?.getFullYear() === 3000"
    pButton
    type="button"
    label="leeres Datenblatt"
    icon="pi pi-file-excel"
    class="p-button-secondary p-button-outlined"
    (click)="exportEmpty()"
  ></button>
  <button
    *ngIf="adresse.austritt_date?.getFullYear() === 3000"
    pButton
    type="button"
    label="volles Datenblatt"
    icon="pi pi-file-export"
    class="p-button-secondary p-button-outlined"
    (click)="exportFull()"
  ></button>
  <button
    pButton
    type="button"
    label="Sichern"
    icon="pi pi-save"
    class="p-button-primary p-button-outlined"
    (click)="save(f)"
  ></button>
</p-toolbar>
